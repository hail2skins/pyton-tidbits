import re
import datetime


def validate_date(date_text):
    try:
        datetime.datetime.strptime(date_text, '%m/%d/%Y')  # Validate date format
        return True
    except ValueError:
        return False

def test_regex_on_text():
    sample_text = """
Templin, Scott
1819th St  202  Minneapolis, MN 55454
     Employment: Not employed
Date  Cash In kind Total
01/04/2022  2.00 0.00 2.00
01/09/2022  3.00 0.00 3.00
01/21/2022  1.00 0.00 1.00
01/21/2022  1.00 0.00 1.00
01/27/2022  2.00 0.00 2.00
01/28/2022  1.00 0.00 1.00
01/31/2022  2.00 0.00 2.00
02/01/2022  10.00 0.00 10.00
02/01/2022  2.00 0.00 2.00
02/02/2022  6.00 0.00 6.00
02/18/2022  10.00 0.00 10.00
02/25/2022  2.00 0.00 2.00
03/02/2022  2.00 0.00 2.00
03/08/2022  2.00 0.00 2.00
03/14/2022  2.70 0.00 2.70
03/24/2022  10.00 0.00 10.00
03/24/2022  10.00 0.00 10.00
03/29/2022  1.50 0.00 1.50
03/31/2022  2.70 0.00 2.70
04/12/2022  4.00 0.00 4.00
04/19/2022  3.00 0.00 3.00
04/20/2022  10.00 0.00 10.00
04/24/2022  3.00 0.00 3.00
04/25/2022  2.00 0.00 2.00
04/27/2022  3.00 0.00 3.00
04/29/2022  3.00 0.00 3.00
04/30/2022  4.00 0.00 4.00
05/02/2022  4.00 0.00 4.00
05/02/2022  4.00 0.00 4.00
05/03/2022  2.00 0.00 2.00
05/03/2022  4.00 0.00 4.00
05/06/2022  3.00 0.00 3.00
05/09/2022  4.00 0.00 4.00
05/10/2022  2.00 0.00 2.00
05/11/2022  1.50 0.00 1.50
05/12/2022  4.00 0.00 4.00
05/14/2022  2.70 0.00 2.70
05/15/2022  4.00 0.00 4.00
05/20/2022  4.00 0.00 4.00
05/23/2022  4.00 0.00 4.00
05/24/2022  3.00 0.00 3.00
05/26/2022  4.00 0.00 4.00
05/27/2022  1.50 0.00 1.50
05/30/2022  4.00 0.00 4.00
05/30/2022  1.00 0.00 1.00
05/31/2022  4.00 0.00 4.00
06/01/2022  2.00 0.00 2.00
06/03/2022  1.00 0.00 1.00
06/07/2022  2.70 0.00 2.70
06/08/2022  4.00 0.00 4.00
06/10/2022  2.70 0.00 2.70
06/11/2022  4.00 0.00 4.00
06/13/2022  4.00 0.00 4.00
06/15/2022  4.00 0.00 4.00
06/22/2022  2.70 0.00 2.70
06/23/2022  3.00 0.00 3.00
06/24/2022  2.70 0.00 2.70
06/25/2022  3.00 0.00 3.00
06/26/2022  1.00 0.00 1.00
06/27/2022  4.00 0.00 4.00
06/28/2022  3.00 0.00 3.00
06/29/2022  1.00 0.00 1.00
07/08/2022  2.70 0.00 2.70
NGP 8 XSD Version: http://reports.cfb.mn.gov/mncf/mncf-core/2.6 Printed 02/01/2023
 Page 794
07/14/2022  4.00 0.00 4.00
07/17/2022  1.00 0.00 1.00
07/20/2022  3.00 0.00 3.00
07/21/2022  2.00 0.00 2.00
07/22/2022  2.00 0.00 2.00
07/26/2022  1.00 0.00 1.00
07/31/2022  2.70 0.00 2.70
08/02/2022  2.70 0.00 2.70
08/03/2022  2.70 0.00 2.70
08/05/2022  3.00 0.00 3.00
08/06/2022  2.00 0.00 2.00
08/08/2022  2.00 0.00 2.00
08/09/2022  2.00 0.00 2.00
08/17/2022  2.00 0.00 2.00
08/19/2022  2.00 0.00 2.00
08/23/2022  1.00 0.00 1.00
08/24/2022  1.00 0.00 1.00
08/25/2022  2.00 0.00 2.00
08/26/2022  1.00 0.00 1.00
08/27/2022  1.00 0.00 1.00
08/27/2022  1.00 0.00 1.00
08/29/2022  1.00 0.00 1.00
08/30/2022  1.00 0.00 1.00
08/31/2022  1.00 0.00 1.00
09/03/2022  1.00 0.00 1.00
09/06/2022  1.00 0.00 1.00
09/07/2022  2.00 0.00 2.00
09/10/2022  1.00 0.00 1.00
09/12/2022  2.00 0.00 2.00
09/13/2022  2.00 0.00 2.00
09/14/2022  1.00 0.00 1.00
09/15/2022  2.00 0.00 2.00
09/16/2022  1.00 0.00 1.00
09/17/2022  4.00 0.00 4.00
09/18/2022  2.00 0.00 2.00
09/19/2022  2.00 0.00 2.00
09/19/2022  2.00 0.00 2.00
09/20/2022  4.00 0.00 4.00
09/21/2022  1.00 0.00 1.00
09/24/2022  2.00 0.00 2.00
09/25/2022  1.00 0.00 1.00
09/27/2022  2.00 0.00 2.00
09/28/2022  3.00 0.00 3.00
09/30/2022  1.00 0.00 1.00
09/30/2022  2.00 0.00 2.00
10/03/2022  1.00 0.00 1.00
10/05/2022  1.00 0.00 1.00
10/06/2022  3.00 0.00 3.00
10/07/2022  3.00 0.00 3.00
10/09/2022  4.00 0.00 4.00
10/10/2022  3.00 0.00 3.00
10/11/2022  4.00 0.00 4.00
10/15/2022  2.00 0.00 2.00
10/16/2022  3.00 0.00 3.00
10/17/2022  2.00 0.00 2.00
10/18/2022  3.00 0.00 3.00
10/19/2022  3.00 0.00 3.00
10/20/2022  3.00 0.00 3.00
10/21/2022  4.00 0.00 4.00
10/22/2022  4.00 0.00 4.00
10/23/2022  3.00 0.00 3.00
10/24/2022  3.00 0.00 3.00
10/26/2022  2.00 0.00 2.00
10/28/2022  3.00 0.00 3.00
10/30/2022  1.00 0.00 1.00
10/31/2022  1.00 0.00 1.00
11/01/2022  2.00 0.00 2.00
NGP 8 XSD Version: http://reports.cfb.mn.gov/mncf/mncf-core/2.6 Printed 02/01/2023
 Page 795
11/05/2022  2.00 0.00 2.00
Total 356.20 0.00 356.20

Tennessen, James
3200 E 51st St  Minneapolis, MN 554171443
     Employment: Not Employed
Date  Cash In kind Total
07/30/2022  250.00 0.00 250.00

Tennessen, Robert J
2427 W 21st St  Minneapolis, MN 554052311
     Employment: Not Employed
Date  Cash In kind Total
10/04/2022  250.00 0.00 250.00

Tepke, Glen
211 Cypress Park  Santa Cruz, CA 950606819
     Employment: retired
Date  Cash In kind Total
08/06/2022  250.00 0.00 250.00

Teplinsky, Scott
4617 Chantrey Ct  Minnetonka, MN 553453544
     Employment: Teplinsky Law Group
Date  Cash In kind Total
09/16/2022  50.00 0.00 50.00
09/22/2022  250.00 0.00 250.00
10/12/2022  100.00 0.00 100.00
Total 400.00 0.00 400.00

Tepper, Helen
19 Fox Den Rd  Mount Kisco, NY 105493833
     Employment: Retired
Date  Cash In kind Total
03/02/2022  250.00 0.00 250.00
06/29/2022  250.00 0.00 250.00
10/06/2022  250.00 0.00 250.00
Total 750.00 0.00 750.00

Terp, Catherine
10500 Niblick Ln  Eden Prairie, MN 553472951
     Employment: Not Employed
Date  Cash In kind Total
01/31/2022  100.00 0.00 100.00
06/24/2022  100.00 0.00 100.00
09/20/2022  50.00 0.00 50.00
10/02/2022  88.25 0.00 88.25
Total 338.25 0.00 338.25

Terrell, Justin
7321 Portland Ave  Richfield, MN 554233220
     Employment: MN Justice Research Center
Date  Cash In kind Total
10/21/2022  500.00 0.00 500.00

Terry, Jennifer
8850 Deer Ridge Ln  Bloomington, MN 554381519
     Employment: Not Employed
Date  Cash In kind Total
10/01/2022  2,500.00 0.00 2,500.00

NGP 8 XSD Version: http://reports.cfb.mn.gov/mncf/mncf-core/2.6 Printed 02/01/2023
 Page 796
Terry, Joseph
2058 Shoreline Dr  Wayzata, MN 553919773
     Employment: Not employed
Date  Cash In kind Total
05/24/2022  650.00 0.00 650.00
08/20/2022  100.00 0.00 100.00
08/25/2022  100.00 0.00 100.00
08/31/2022  100.00 0.00 100.00
10/18/2022  250.00 0.00 250.00
10/24/2022  250.00 0.00 250.00
11/03/2022  250.00 0.00 250.00
Total 1,700.00 0.00 1,700.00

Terry, Kaimay Y
2058 Shoreline Dr  Wayzata, MN 553919773
     Employment: Not Employed
Date  Cash In kind Total
01/30/2022  100.00 0.00 100.00
04/23/2022  100.00 0.00 100.00
04/30/2022  100.00 0.00 100.00
05/24/2022  1,350.00 0.00 1,350.00
Total 1,650.00 0.00 1,650.00

Tesarek, Thomas
365 Dakota Ave S  Minneapolis, MN 554161017
     Employment: Ameriprise Financial
Date  Cash In kind Total
02/01/2022  100.00 0.00 100.00
08/04/2022  250.00 0.00 250.00
Total 350.00 0.00 350.00

Testa, Russell
250 NW Cerritos Dr  Palm Springs, CA 922626517
     Employment: Salo
Date  Cash In kind Total
06/28/2022  500.00 0.00 500.00

Texler, Mike
1379 Lafond Ave  Saint Paul, MN 551042437
     Employment: Not Employed
Date  Cash In kind Total
09/08/2022  250.00 0.00 250.00

Thacker, Bob
505 Ivanhoe Ave  Northfield, MN 550571399
     Employment: Not Employed
Date  Cash In kind Total
08/16/2022  100.00 0.00 100.00
09/16/2022  25.00 0.00 25.00
10/16/2022  25.00 0.00 25.00
10/21/2022  25.00 0.00 25.00
11/16/2022  25.00 0.00 25.00
12/16/2022  25.00 0.00 25.00
Total 225.00 0.00 225.00

NGP 8 XSD Version: http://reports.cfb.mn.gov/mncf/mncf-core/2.6 Printed 02/01/2023
 Page 797
    """

    pattern = r"([A-Za-z\s,]+)\n([^\n]*\d{5})\n\s*Employment:.*?\nDate\s+Cash\s+In\s+kind\s+Total\n((?:(?:\d{2}/\d{2}/\d{4}\s+[0-9,]+\.\d{2}\s+0\.00\s+[0-9,]+\.\d{2}\n)+)(?:Total\s+[0-9,]+\.\d{2}\s+0\.00\s+[0-9,]+\.\d{2})?)"

    matches = re.findall(pattern, sample_text, re.DOTALL)
    if matches:
        for name, address, contributions_text in matches:
            print(f"Name: {name.strip()}")
            print(f"Address: {address.strip()}")
            print("Contributions:")
            contributions = re.findall(r"(\d{2}/\d{2}/\d{4})\s+([0-9,]+\.\d{2})", contributions_text)
            for date, amount in contributions:
                print(f"Date: {date}, Cash: {amount}")
    else:
        print("No contributions found.")
        
if __name__ == "__main__":
    test_regex_on_text()